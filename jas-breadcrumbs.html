<link rel="import" href="../polymer/polymer.html">
<!--<link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">-->

<!--
Element that does a simple Breadcrumbs Menu

##### Example

    <jas-breadcrumbs></jas-breadcrumbs>

@element jas-breadcrumbs
@status alpha
@demo demo/index.html
-->


<dom-module id="jas-breadcrumbs">

    <template>
        <style>
            :host {
                display: block;
                padding: 10px 10px 0 8px;
                margin: 0;
                font-family: 'Roboto', 'Noto', sans-serif;
            }
            a {
                text-decoration: none;
            }
            a {
                color: #039be5;
                text-decoration: none;
                -webkit-tap-highlight-color: transparent;
            }
            a {
                background-color: transparent;
            }
            .breadcrumb {
                line-height: 34px;
                font-size: 18px;
                color: rgba(67, 110, 144, 0.8);
            }
            .breadcrumb:hover {
                font-size: 18px;
                color: rgba(27, 53, 71, 0.98);
            }
            .breadcrumb:before {
                content: '\E5CC';
                color: rgba(67, 110, 144, 0.8);
                vertical-align: middle;
                display: inline-block;
                font-family: 'Material Icons';
                font-weight: normal;
                font-style: normal;
                font-size: 25px;
                margin: 0 10px 0 8px;
                -webkit-font-smoothing: antialiased;
            }
            .breadcrumb:first-child:before {
                display: none;
            }
            .breadcrumb:last-child {
                color: rgba(67, 110, 144, 1);
            }
            .helpIcon {
                color: var(--app-primary-color,#436E90);
                float: right;
                margin-right: 10px;
            }
            .breadcrumb_layout {
                height: 42px;
                margin-left: 20px;
                overflow: hidden;
            }
        </style>
        <div class="flex layout breadcrumb_layout">
            <template id="resultList" is="dom-repeat" items="{{menu}}" as="m">
                <a on-tap="_selectPage" id="{{m.id}}" class="breadcrumb">{{m.text}}</a>
            </template>
            <paper-icon-button on-tap="_selectHelp" class="helpIcon" icon="samsicons:help"></paper-icon-button>
        </div>
    </template>

    <script>

        var app;
        Polymer({

            is: 'jas-breadcrumbs',

            properties: {
                menu: {
                    type: Object,
                    notify: true
                }
            },
            attached: function() {
                // Attempts to store itself in app as Global Variable so that it can be found
                if (app != undefined) {
                    app.breadcrumbs = this;
                }
            },
            setMenu: function(newMenu) {
                this.menu = newMenu;
            },
            _selectPage: function(e) {
                var model = e.model;
                if (model.m != undefined) {
                    this.fire('page_change', {page:  model.m.id});
                }
            },
            _selectHelp: function() {
                if (app != undefined) {
                    app.openHelpPage();
                }
            }
        });
    </script>
</dom-module>
